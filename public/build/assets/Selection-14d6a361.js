import{l as F}from"./Loader-8034089e.js";import{a as A}from"./index-f3190292.js";import{G as P}from"./GuestLayout-ba9de5ce.js";import{f as E}from"./flatpickr-396c3288.js";import{s as U,x as M,y as B,z as T,c as D,w as H,j as f,o as i,a as e,g as h,t as p,l as m,A as v,e as r,h as _,F as g,f as u,m as b,b as w,k as R,p as G,i as J}from"./app-8988990b.js";import j from"./FormPayment-7717871f.js";import{_ as z}from"./_plugin-vue_export-helper-c27b6911.js";/* empty css                                               */import"./index-4dca284a.js";const S=["onChange","onClose","onDestroy","onMonthChange","onOpen","onYearChange"],W=["onValueUpdate","onDayCreate","onParseConfig","onReady","onPreCalendarPosition","onKeyDown"];function L(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function I(t){return t instanceof Array?t:[t]}function x(t){return t&&t.length?t:null}const k=[...S,...W],K=["locale","showMonths"],q=U({name:"FlatPickr",compatConfig:{MODE:3},render(){return M("input",{type:"text","data-input":!0,disabled:this.disabled,onInput:this.onInput})},emits:["blur","update:modelValue",...k.map(L)],props:{modelValue:{type:[String,Number,Date,Array,null],required:!0},config:{type:Object,default:()=>({defaultDate:null,wrap:!1})},events:{type:Array,default:()=>S},disabled:{type:Boolean,default:!1}},data(){return{fp:null}},mounted(){this.fp||(this.fp=E(this.getElem(),this.prepareConfig()),this.fpInput().addEventListener("blur",this.onBlur),this.$watch("disabled",this.watchDisabled,{immediate:!0}))},methods:{prepareConfig(){let t=Object.assign({},this.config);this.events.forEach(l=>{let c=E.defaultConfig[l]||[],o=(...d)=>{this.$emit(L(l),...d)};t[l]=I(t[l]||[]).concat(c,o)});const s=this.onClose.bind(this);return t.onClose=I(t.onClose||[]).concat(s),t.defaultDate=this.modelValue||t.defaultDate,t},getElem(){return this.config.wrap?this.$el.parentNode:this.$el},onInput(t){const s=t.target;B().then(()=>{this.$emit("update:modelValue",x(s.value))})},fpInput(){return this.fp.altInput||this.fp.input},onBlur(t){this.$emit("blur",x(t.target.value))},onClose(t,s){this.$emit("update:modelValue",s)},watchDisabled(t){t?this.fpInput().setAttribute("disabled",""):this.fpInput().removeAttribute("disabled")}},watch:{config:{deep:!0,handler(t){if(!this.fp)return;let s=Object.assign({},t);k.forEach(l=>{delete s[l]}),this.fp.set(s),K.forEach(l=>{typeof s[l]<"u"&&this.fp.set(l,s[l])})}},modelValue(t){var s;!this.$el||t===x(this.$el.value)||(s=this.fp)===null||s===void 0||s.setDate(t,!0)}},beforeUnmount(){this.fp&&(this.fpInput().removeEventListener("blur",this.onBlur),this.fp.destroy(),this.fp=null)}});var y={},Q={get exports(){return y},set exports(t){y=t}};(function(t,s){(function(l,c){c(s)})(T,function(l){var c=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},o={weekdays:{shorthand:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"],longhand:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"]},months:{shorthand:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],longhand:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"]},ordinal:function(){return"º"},firstDayOfWeek:1,rangeSeparator:" a ",time_24hr:!0};c.l10ns.es=o;var d=c.l10ns;l.Spanish=o,l.default=d,Object.defineProperty(l,"__esModule",{value:!0})})})(Q,y);const Y={props:["patient","especialties","locations"],data(){return{loading:!1,hours:["7:00","7:30","8:00","8:30","9:00","9:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00","18:30","19:00","19:30","20:00","20:30","21:00","21:30","22:00","22:30","23:00","23:30"],config:{enableTime:!1,weekNumbers:!0,locale:y.Spanish,readonly:!1,minDate:new Date(new Date().getTime()+24*60*60*1e3)},location:null,showList:!1,selectedHour:null,selectedDate:null,selectedEspecialty:null,schedulesWithFisios:null,locations:this.locations,address:null,address_name:null,place:null,selectedLat:null,selectedLng:null,address_number:null}},components:{GuestLayout:P,FlatPickr:q,loader:F,FormPayment:j},methods:{searchFisio(){this.loading=!0,A.post("/appointment/searchFisio",{selectedHour:this.selectedHour,selectedDate:this.selectedDate,selectedEspecialty:this.selectedEspecialty}).then(t=>{this.showList=!0,this.schedulesWithFisios=t.data,this.loading=!1}).catch(t=>{console.error(t)})},addPatientLocation(){this.loading=!0,A.post("/appointment/addPatientLocation",{patient_id:this.patient.id,address:this.address,address_name:this.address_name,address_extra_info:this.address_extra_info}).then(t=>{this.loading=!1,document.getElementById("close").click(),this.locations=t.data}).catch(t=>{console.error(t)})},initAutocomplete(){const t=this.$refs.autocompleteSearch,s=new google.maps.LatLngBounds(new google.maps.LatLng(-12.3553,-77.1908),new google.maps.LatLng(-11.7233,-76.6338)),l={componentRestrictions:{country:"PE"},bounds:s,strictBounds:!0,types:["geocode"]},c=new google.maps.places.Autocomplete(t,l);c.addListener("place_changed",()=>{const o=c.getPlace();this.place=o,this.selectedAddress=o.formatted_address,this.selectedLat=o.geometry.location.lat(),this.selectedLng=o.geometry.location.lng(),this.address_number=o.address_components[0].long_name})}},mounted(){this.initAutocomplete()}},a=t=>(G("data-v-7e389c3f"),t=t(),J(),t),Z={class:"row no-row center my-4 mb-8"},X={class:"row mb-2"},$={class:"text-xl text-center color-white"},ee={class:"font-bold"},te=a(()=>e("div",{class:"row center mb-3"},[e("img",{class:"logo-img",src:"/img/logo-large.png",alt:""})],-1)),oe={class:"row center no-row",style:{width:"90vw"}},se={class:"row pre_container center"},ne={class:"row center"},le=a(()=>e("h5",{class:"center",style:{color:"white"}},"¿QUÉ NECESITAS?",-1)),ae={class:"row no-row register_container center my-1 py-2"},ie={class:"row form-group pt-2 my-0"},re=a(()=>e("label",{for:"exampleFormControlSelect1"},"SELECCIONA TU ESPECIALIDAD",-1)),ce={class:"d-flex align-items-center"},de=["value"],ue={class:"row no-row register_container center mb-2"},pe={class:"row form-group pt-2 my-0"},me=a(()=>e("label",{for:"exampleFormControlSelect1"},"SELECCIONA TU UBICACIÓN ",-1)),he={class:"d-flex align-items-center"},fe={key:0,selected:"",disabled:""},_e=["value"],ge={key:1,disabled:""},be=a(()=>e("div",{class:"d-flex align-items-center mx-1 bg-orange px-2 py-2 rounded"},[e("i",{class:"fa-solid fa-circle-plus color-white"}),e("button",{class:"color-white font-bold ml-1","data-toggle":"modal","data-target":"#addLocationModal"}," Nueva ")],-1)),ye={style:{"max-width":"100vw","max-height":"100vh","padding-top":"10vw"},class:"modal fade",id:"addLocationModal",tabindex:"-1",role:"dialog","aria-labelledby":"addLocationModal","aria-hidden":"true"},ve={class:"modal-dialog",role:"document"},we={class:"modal-content"},xe={class:"modal-body"},Ce=a(()=>e("div",{class:"card mx-auto mb-2"},[e("h5",{class:"heading text-center color-blue font-bold text-xl"}," AGREGA UNA NUEVA DIRECCIÓN "),e("p",{class:"heading text-center",style:{color:"black"}}," Bla bla bla bla disclamimer ")],-1)),Ae={class:"card mx-auto",style:{"padding-top":"0",border:"none"}},Ee={class:"form-group"},De={class:"row"},Le={class:"col-12 col-md-12"},Ie=a(()=>e("label",{class:"location_label",for:"search-input"},[h("Dirección "),e("span",{class:"examples"},"(Agrega Número de Calle)")],-1)),ke={id:"search-input",type:"text",class:"form-control",placeholder:"Calle fisioacasa 123",ref:"autocompleteSearch"},Se={key:0,class:"row"},Ne={class:"col-6 col-md-4"},Ve=a(()=>e("label",{for:"search-input"},"N°",-1)),Oe={class:"col-6 col-md-8"},Fe=a(()=>e("label",{for:"search-input"},"LOCALIDAD",-1)),Pe={class:"col-12 col-md-12"},Ue=a(()=>e("label",{class:"location_label",for:"search-input"},[h("Información Adicional "),e("span",{class:"examples"},"(N° Depa, Casa, etc)")],-1)),Me={class:"col-12 col-md-12"},Be=a(()=>e("label",{class:"location_label",for:"search-input"},[h("Nombre "),e("span",{class:"examples"}," (Casa Principal | Oficina)")],-1)),Te=a(()=>e("button",{type:"button",class:"close mt-2","data-dismiss":"modal","aria-label":"Close",id:"close"},[h(" Cerrar "),e("span",{"aria-hidden":"true"},"×")],-1)),He={class:"row"},Re={class:"container row pb-2"},Ge={class:"form-group col-6"},Je=a(()=>e("label",{for:"dateInput"},"DÍA",-1)),je={class:"form-group col-6"},ze=a(()=>e("label",{for:"hourInput"},"HORA",-1)),We=["disabled"],Ke={key:0,class:"row mt-4"},qe={key:1,class:"text-center mb-2 mt-1",style:{color:"white"}},Qe={key:2,class:"row no-row register_container center py-2"},Ye={class:"row px-2 center"},Ze={class:"d-flex"},Xe={class:"p-2"},$e={class:"p-2 flex-grow-1"},et={class:"card-title",style:{"margin-bottom":"0"}},tt={class:"text-xl"},ot=a(()=>e("p",{class:"card-text"},[e("span",{class:"fa fa-star colored"}),e("span",{class:"fa fa-star colored"}),e("span",{class:"fa fa-star colored"}),e("span",{class:"fa fa-star colored"}),e("span",{class:"fa fa-star"})],-1)),st=a(()=>e("br",null,null,-1)),nt=a(()=>e("a",{href:"#",class:"moreInfo"},[h(" Más Info "),e("i",{class:"fa-solid fa-circle-info"})],-1)),lt=a(()=>e("a",null,[e("i",{class:"center mb-2",style:{"text-decoration":"underline",color:"#ed6c14"}}," Ver más ")],-1));function at(t,s,l,c,o,d){const C=f("loader"),N=f("flat-pickr"),V=f("FormPayment"),O=f("GuestLayout");return i(),D(O,null,{default:H(()=>[e("div",Z,[e("div",X,[e("h5",$,[h(" HOLA "),e("span",ee,p(l.patient.name)+"!",1),h(" BIENVENIDO A ")])]),te,e("div",oe,[e("div",se,[e("div",ne,[le,e("div",ae,[e("div",ie,[re,e("div",ce,[m(e("select",{class:"form-control",id:"exampleFormControlSelect1","onUpdate:modelValue":s[0]||(s[0]=n=>o.selectedEspecialty=n)},[(i(!0),r(g,null,_(l.especialties,n=>(i(),r("option",{key:n.id,value:n.name},p(n.name),9,de))),128))],512),[[v,o.selectedEspecialty]])])])]),e("div",ue,[e("div",pe,[me,e("div",he,[m(e("select",{class:"form-control",id:"exampleFormControlSelect1","onUpdate:modelValue":s[1]||(s[1]=n=>o.location=n)},[o.locations?u("",!0):(i(),r("option",fe," Aún no tienes ninguna Ubicación, agrega una nueva ")),(i(!0),r(g,null,_(o.locations,n=>(i(),r("option",{key:n.id,value:n.id},p(n.name)+" - "+p(n.address),9,_e))),128)),o.locations?(i(),r("option",ge,"O agrega una nueva")):u("",!0)],512),[[v,o.location]]),be]),e("div",ye,[e("div",ve,[e("div",we,[e("div",xe,[Ce,e("div",Ae,[e("div",Ee,[e("div",De,[e("div",Le,[Ie,e("input",ke,null,512)]),o.place?(i(),r("div",Se,[e("div",Ne,[Ve,m(e("input",{id:"search-input","onUpdate:modelValue":s[2]||(s[2]=n=>o.address_number=n),type:"text",class:"form-control",placeholder:"Nombre"},null,512),[[b,o.address_number]])]),e("div",Oe,[Fe,m(e("input",{id:"search-input",disabled:"","onUpdate:modelValue":s[3]||(s[3]=n=>o.place.address_components[2].long_name=n),type:"text",class:"form-control",placeholder:"Nombre"},null,512),[[b,o.place.address_components[2].long_name]])])])):u("",!0),e("div",Pe,[Ue,m(e("input",{id:"search-input","onUpdate:modelValue":s[4]||(s[4]=n=>t.address_extra_info=n),type:"text",class:"form-control",placeholder:"Departamento 101"},null,512),[[b,t.address_extra_info]])]),e("div",Me,[Be,m(e("input",{id:"search-input","onUpdate:modelValue":s[5]||(s[5]=n=>o.address_name=n),type:"text",class:"form-control",placeholder:"Oficina"},null,512),[[b,o.address_name]])])])]),o.loading?(i(),D(C,{key:0})):u("",!0),o.loading?u("",!0):(i(),r("button",{key:1,style:{color:"white","background-color":"#ed6c14"},onClick:s[6]||(s[6]=(...n)=>d.addPatientLocation&&d.addPatientLocation(...n)),class:"btn bg-orange mt-2"}," Agregar Ubicación ")),Te])])])])])]),e("div",He,[e("div",Re,[e("div",Ge,[Je,w(N,{modelValue:o.selectedDate,"onUpdate:modelValue":s[7]||(s[7]=n=>o.selectedDate=n),config:o.config,class:"form-control",id:"date",ref:"flatpickr"},null,8,["modelValue","config"])]),e("div",je,[ze,m(e("select",{class:"form-control",id:"hourInput","onUpdate:modelValue":s[8]||(s[8]=n=>o.selectedHour=n)},[(i(!0),r(g,null,_(o.hours,n=>(i(),r("option",{key:n},p(n),1))),128))],512),[[v,o.selectedHour]])])])])]),e("button",{disabled:!o.selectedDate||!o.selectedEspecialty||!o.selectedHour,class:"btn btn-orange mt-1 w-50 mx-auto my-1 hover-orange",id:"addOption",onClick:s[9]||(s[9]=(...n)=>d.searchFisio&&d.searchFisio(...n))}," ENCONTRAR ",8,We),o.loading?(i(),r("div",Ke,[w(C)])):u("",!0),o.showList?(i(),r("h5",qe," SELECCIONA TU FISIOTERAPEUTA ")):u("",!0),o.showList?(i(),r("div",Qe,[e("div",Ye,[(i(!0),r(g,null,_(o.schedulesWithFisios,n=>(i(),r("div",{class:"card my-2 col-12 col-md-5 mx-md-4",key:n.id},[e("div",Ze,[e("div",Xe,[e("div",{class:"profilePhoto",style:R({"background-image":`url(/img/fisioPhotos/${n.fisio.profile_photo_path})`})},null,4),e("h6",null,p(n.fisio.name),1)]),e("div",$e,[e("h4",et,[e("strong",tt,"S/"+p(n.fisio.appointment_price),1)]),ot,w(V,{appointmentInfo:n,Appdate:o.selectedDate,patient:l.patient,location:o.location},null,8,["appointmentInfo","Appdate","patient","location"]),st,nt])])]))),128)),lt])])):u("",!0)])])])])]),_:1})}const _t=z(Y,[["render",at],["__scopeId","data-v-7e389c3f"]]);export{_t as default};
