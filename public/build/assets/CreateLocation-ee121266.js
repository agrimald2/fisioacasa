import{a as g}from"./index-f3190292.js";import{H as b}from"./Header-2ee9bec4.js";import{I as f}from"./Indications-bbe0965b.js";import{e as r,b as m,a as e,l as c,m as l,f as L,F as I,j as p,o as u}from"./app-8988990b.js";import{_ as v}from"./_plugin-vue_export-helper-c27b6911.js";const y={props:[],components:{Header:b,Indications:f},data(){return{title:"Agrega Ubicaciones",subtitle:"Busca la dirección exacta en Google Maps",mainIndication:"Agrega tus ubicaciones más frecuentes",subIndication:"Elige las zonas dónde quisieras ofrecer tus servicios en un radio de hasta 2.5KM. Ejemplo: Tu domicilio, Centro de trabajo, etc.",address:null,address_name:null,place:null,selectedLat:null,selectedLng:null,address_number:null}},methods:{initAutocomplete(){const n=this.$refs.autocompleteInput,s=new google.maps.LatLngBounds(new google.maps.LatLng(-12.3553,-77.1908),new google.maps.LatLng(-11.7233,-76.6338)),d={componentRestrictions:{country:"PE"},bounds:s,strictBounds:!0,types:["geocode"]},a=new google.maps.places.Autocomplete(n,d);a.addListener("place_changed",()=>{const o=a.getPlace();this.place=o,this.selectedAddress=o.formatted_address,this.selectedLat=o.geometry.location.lat(),this.selectedLng=o.geometry.location.lng(),this.address_number=o.address_components[0].long_name})},addLocation(){g.post("/fisio/addLocation",{address:this.place.formatted_address,address_number:this.address_number,name:this.address_name,latitude:this.selectedLat,longitude:this.selectedLng,urbanization:this.place.address_components[2].long_name,distric:this.place.address_components[3].long_name,city:this.place.address_components[5].long_name,postal_code:this.place.address_components[7].long_name}).then(n=>{window.location.reload()}).catch(n=>{console.error(n)})}},mounted(){this.initAutocomplete()}},C={class:"col-12 col-md-8"},x={class:"card mb-2 mb-xl-0"},A={class:"card-body text-center"},N={class:"form-group"},w={class:"row"},B={class:"mt-2 card col-12 col-md-8 p-4 border-orange"},E={class:"col-12"},D=e("label",{for:"search-input"},"DIRECCIÓN EXACTA",-1),U={id:"search-input",type:"text",class:"form-control",placeholder:"DIRECCIÓN",ref:"autocompleteInput"},V={key:0,class:"row"},k={class:"col-6 col-md-4"},H=e("label",{for:"search-input"},"N°",-1),M={class:"col-6 col-md-8"},R=e("label",{for:"search-input"},"LOCALIDAD",-1),j={class:"mt-2 card col-12 col-md-4"},T=e("label",{for:"search-input"},"NOMBRE DE LA UBICACIÓN",-1),z=["disabled"];function F(n,s,d,a,o,i){const _=p("Header"),h=p("Indications");return u(),r(I,null,[m(_,{title:o.title,subtitle:o.subtitle},null,8,["title","subtitle"]),m(h,{mainIndication:o.mainIndication,subIndication:o.subIndication},null,8,["mainIndication","subIndication"]),e("div",C,[e("div",x,[e("div",A,[e("div",N,[e("div",w,[e("div",B,[e("div",E,[D,e("input",U,null,512)]),o.place?(u(),r("div",V,[e("div",k,[H,c(e("input",{id:"search-input","onUpdate:modelValue":s[0]||(s[0]=t=>o.address_number=t),type:"text",class:"form-control",placeholder:"Nombre"},null,512),[[l,o.address_number]])]),e("div",M,[R,c(e("input",{id:"search-input",disabled:"","onUpdate:modelValue":s[1]||(s[1]=t=>o.place.address_components[2].long_name=t),type:"text",class:"form-control",placeholder:"Nombre"},null,512),[[l,o.place.address_components[2].long_name]])])])):L("",!0)]),e("div",j,[T,c(e("input",{id:"search-input","onUpdate:modelValue":s[2]||(s[2]=t=>o.address_name=t),type:"text",class:"form-control",placeholder:"Nombre"},null,512),[[l,o.address_name]])])])]),e("button",{disabled:!o.address_name,style:{color:"white"},onClick:s[3]||(s[3]=(...t)=>i.addLocation&&i.addLocation(...t)),class:"btn bg-orange"}," Agregar Ubicación ",8,z)])])])],64)}const X=v(y,[["render",F]]);export{X as default};
