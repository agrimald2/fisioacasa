import{l as O}from"./Loader-7ea273b4.js";import{a as E}from"./index-a9e58290.js";import{G as U}from"./GuestLayout-c3a59f0a.js";import{f as D}from"./flatpickr-396c3288.js";import{s as F,x as P,y as T,z as B,c as I,w as H,k as f,o as l,a as e,g as h,t as u,l as m,A as v,e as r,h as _,F as g,f as p,m as y,b as w,i as G,p as R,j as J}from"./app-cd1b42df.js";import j from"./PaymentModal-79f0e99e.js";import{_ as z}from"./_plugin-vue_export-helper-c27b6911.js";/* empty css                                               */import"./index-5de5e1e1.js";const L=["onChange","onClose","onDestroy","onMonthChange","onOpen","onYearChange"],W=["onValueUpdate","onDayCreate","onParseConfig","onReady","onPreCalendarPosition","onKeyDown"];function A(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function k(t){return t instanceof Array?t:[t]}function C(t){return t&&t.length?t:null}const S=[...L,...W],K=["locale","showMonths"],q=F({name:"FlatPickr",compatConfig:{MODE:3},render(){return P("input",{type:"text","data-input":!0,disabled:this.disabled,onInput:this.onInput})},emits:["blur","update:modelValue",...S.map(A)],props:{modelValue:{type:[String,Number,Date,Array,null],required:!0},config:{type:Object,default:()=>({defaultDate:null,wrap:!1})},events:{type:Array,default:()=>L},disabled:{type:Boolean,default:!1}},data(){return{fp:null}},mounted(){this.fp||(this.fp=D(this.getElem(),this.prepareConfig()),this.fpInput().addEventListener("blur",this.onBlur),this.$watch("disabled",this.watchDisabled,{immediate:!0}))},methods:{prepareConfig(){let t=Object.assign({},this.config);this.events.forEach(n=>{let c=D.defaultConfig[n]||[],a=(...d)=>{this.$emit(A(n),...d)};t[n]=k(t[n]||[]).concat(c,a)});const o=this.onClose.bind(this);return t.onClose=k(t.onClose||[]).concat(o),t.defaultDate=this.modelValue||t.defaultDate,t},getElem(){return this.config.wrap?this.$el.parentNode:this.$el},onInput(t){const o=t.target;T().then(()=>{this.$emit("update:modelValue",C(o.value))})},fpInput(){return this.fp.altInput||this.fp.input},onBlur(t){this.$emit("blur",C(t.target.value))},onClose(t,o){this.$emit("update:modelValue",o)},watchDisabled(t){t?this.fpInput().setAttribute("disabled",""):this.fpInput().removeAttribute("disabled")}},watch:{config:{deep:!0,handler(t){if(!this.fp)return;let o=Object.assign({},t);S.forEach(n=>{delete o[n]}),this.fp.set(o),K.forEach(n=>{typeof o[n]<"u"&&this.fp.set(n,o[n])})}},modelValue(t){var o;!this.$el||t===C(this.$el.value)||(o=this.fp)===null||o===void 0||o.setDate(t,!0)}},beforeUnmount(){this.fp&&(this.fpInput().removeEventListener("blur",this.onBlur),this.fp.destroy(),this.fp=null)}});var b={},Q={get exports(){return b},set exports(t){b=t}};(function(t,o){(function(n,c){c(o)})(B,function(n){var c=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},a={weekdays:{shorthand:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"],longhand:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"]},months:{shorthand:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],longhand:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"]},ordinal:function(){return"º"},firstDayOfWeek:1,rangeSeparator:" a ",time_24hr:!0};c.l10ns.es=a;var d=c.l10ns;n.Spanish=a,n.default=d,Object.defineProperty(n,"__esModule",{value:!0})})})(Q,b);const Y={props:["patient","especialties","locations"],data(){return{loading:!1,hours:["7:00","7:30","8:00","8:30","9:00","9:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00","18:30","19:00","19:30","20:00","20:30","21:00","21:30","22:00","22:30","23:00","23:30"],config:{enableTime:!1,weekNumbers:!0,locale:b.Spanish,readonly:!1,minDate:new Date(new Date().getTime()+24*60*60*1e3)},location:null,showList:!1,selectedHour:null,selectedDate:null,selectedEspecialty:null,schedulesWithFisios:null,locations:this.locations}},components:{GuestLayout:U,FlatPickr:q,PaymentModal:j,loader:O},methods:{searchFisio(){this.loading=!0,E.post("/appointment/searchFisio",{selectedHour:this.selectedHour,selectedDate:this.selectedDate,selectedEspecialty:this.selectedEspecialty}).then(t=>{this.showList=!0,this.schedulesWithFisios=t.data,this.loading=!1}).catch(t=>{console.error(t)})},addPatientLocation(){this.loading=!0,E.post("/appointment/addPatientLocation",{patient_id:this.patient.id,address:this.address,address_name:this.address_name,address_extra_info:this.address_extra_info}).then(t=>{this.loading=!1,document.getElementById("close").click(),this.locations=t.data}).catch(t=>{console.error(t)})}}},i=t=>(R("data-v-4d2f9b95"),t=t(),J(),t),Z={class:"row no-row center my-4 mb-8"},X={class:"row mb-2"},$={class:"text-xl text-center color-white"},ee={class:"font-bold"},te=i(()=>e("div",{class:"row center mb-3"},[e("img",{class:"logo-img",src:"/img/logo-large.png",alt:""})],-1)),oe={class:"row center no-row",style:{width:"90vw"}},se={class:"row pre_container center"},ae={class:"row center"},ne=i(()=>e("h5",{class:"center",style:{color:"white"}},"¿QUÉ NECESITAS?",-1)),le={class:"row no-row register_container center my-1 py-2"},ie={class:"row form-group pt-2 my-0"},re=i(()=>e("label",{for:"exampleFormControlSelect1"},"SELECCIONA TU ESPECIALIDAD",-1)),de={class:"d-flex align-items-center"},ce=["value"],ue={class:"row no-row register_container center mb-2"},pe={class:"row form-group pt-2 my-0"},he=i(()=>e("label",{for:"exampleFormControlSelect1"},"SELECCIONA TU UBICACIÓN ",-1)),me={class:"d-flex align-items-center"},fe={key:0,selected:"",disabled:""},_e=["value"],ge={key:1,disabled:""},be=i(()=>e("div",{class:"d-flex align-items-center mx-1 bg-orange px-2 py-2 rounded"},[e("i",{class:"fa-solid fa-circle-plus color-white"}),e("button",{class:"color-white font-bold ml-1","data-toggle":"modal","data-target":"#addLocationModal"}," Nueva ")],-1)),ve={style:{"max-width":"100vw","max-height":"100vh","padding-top":"10vw"},class:"modal fade",id:"addLocationModal",tabindex:"-1",role:"dialog","aria-labelledby":"addLocationModal","aria-hidden":"true"},ye={class:"modal-dialog",role:"document"},we={class:"modal-content"},Ce={class:"modal-body"},xe=i(()=>e("div",{class:"card mx-auto mb-2"},[e("h5",{class:"heading text-center color-blue font-bold text-xl"}," AGREGA UNA NUEVA DIRECCIÓN "),e("p",{class:"heading text-center",style:{color:"black"}}," Bla bla bla bla disclamimer ")],-1)),Ee={class:"card mx-auto",style:{"padding-top":"0",border:"none"}},De={class:"form-group"},Ie={class:"row"},Ae={class:"col-12 col-md-12"},ke=i(()=>e("label",{class:"location_label",for:"search-input"},[h("Dirección "),e("span",{class:"examples"},"(Agrega Número de Calle)")],-1)),Se={class:"col-12 col-md-12"},Le=i(()=>e("label",{class:"location_label",for:"search-input"},[h("Información Adicional "),e("span",{class:"examples"},"(N° Depa, Casa, etc)")],-1)),Ne={class:"col-12 col-md-12"},Ve=i(()=>e("label",{class:"location_label",for:"search-input"},[h("Nombre "),e("span",{class:"examples"}," (Casa Principal | Oficina)")],-1)),Me=i(()=>e("button",{type:"button",class:"close mt-2","data-dismiss":"modal","aria-label":"Close",id:"close"},[h(" Cerrar "),e("span",{"aria-hidden":"true"},"×")],-1)),Oe={class:"row"},Ue={class:"container row pb-2"},Fe={class:"form-group col-6"},Pe=i(()=>e("label",{for:"dateInput"},"DÍA",-1)),Te={class:"form-group col-6"},Be=i(()=>e("label",{for:"hourInput"},"HORA",-1)),He=["disabled"],Ge={key:0,class:"row mt-4"},Re={key:1,class:"text-center mb-2 mt-1",style:{color:"white"}},Je={key:2,class:"row no-row register_container center py-2"},je={class:"row px-2 center"},ze={class:"d-flex"},We={class:"p-2"},Ke={class:"p-2 flex-grow-1"},qe={class:"card-title",style:{"margin-bottom":"0"}},Qe={class:"text-xl"},Ye=i(()=>e("p",{class:"card-text"},[e("span",{class:"fa fa-star colored"}),e("span",{class:"fa fa-star colored"}),e("span",{class:"fa fa-star colored"}),e("span",{class:"fa fa-star colored"}),e("span",{class:"fa fa-star"})],-1)),Ze=i(()=>e("br",null,null,-1)),Xe=i(()=>e("a",{href:"#",class:"moreInfo"},[h(" Más Info "),e("i",{class:"fa-solid fa-circle-info"})],-1)),$e=i(()=>e("a",null,[e("i",{class:"center mb-2",style:{"text-decoration":"underline",color:"#ed6c14"}}," Ver más ")],-1));function et(t,o,n,c,a,d){const x=f("loader"),N=f("flat-pickr"),V=f("PaymentModal"),M=f("GuestLayout");return l(),I(M,null,{default:H(()=>[e("div",Z,[e("div",X,[e("h5",$,[h(" HOLA "),e("span",ee,u(n.patient.name)+"!",1),h(" BIENVENIDO A ")])]),te,e("div",oe,[e("div",se,[e("div",ae,[ne,e("div",le,[e("div",ie,[re,e("div",de,[m(e("select",{class:"form-control",id:"exampleFormControlSelect1","onUpdate:modelValue":o[0]||(o[0]=s=>a.selectedEspecialty=s)},[(l(!0),r(g,null,_(n.especialties,s=>(l(),r("option",{key:s.id,value:s.name},u(s.name),9,ce))),128))],512),[[v,a.selectedEspecialty]])])])]),e("div",ue,[e("div",pe,[he,e("div",me,[m(e("select",{class:"form-control",id:"exampleFormControlSelect1","onUpdate:modelValue":o[1]||(o[1]=s=>a.location=s)},[a.locations?p("",!0):(l(),r("option",fe," Aún no tienes ninguna Ubicación, agrega una nueva ")),(l(!0),r(g,null,_(a.locations,s=>(l(),r("option",{key:s.id,value:s.id},u(s.name)+" - "+u(s.address),9,_e))),128)),a.locations?(l(),r("option",ge,"O agrega una nueva")):p("",!0)],512),[[v,a.location]]),be]),e("div",ve,[e("div",ye,[e("div",we,[e("div",Ce,[xe,e("div",Ee,[e("div",De,[e("div",Ie,[e("div",Ae,[ke,m(e("input",{id:"search-input","onUpdate:modelValue":o[2]||(o[2]=s=>t.address=s),type:"text",class:"form-control",placeholder:"Calle fisioacasa 123"},null,512),[[y,t.address]])]),e("div",Se,[Le,m(e("input",{id:"search-input","onUpdate:modelValue":o[3]||(o[3]=s=>t.address_extra_info=s),type:"text",class:"form-control",placeholder:"Departamento 101"},null,512),[[y,t.address_extra_info]])]),e("div",Ne,[Ve,m(e("input",{id:"search-input","onUpdate:modelValue":o[4]||(o[4]=s=>t.address_name=s),type:"text",class:"form-control",placeholder:"Oficina"},null,512),[[y,t.address_name]])])])]),a.loading?(l(),I(x,{key:0})):p("",!0),a.loading?p("",!0):(l(),r("button",{key:1,style:{color:"white","background-color":"#ed6c14"},onClick:o[5]||(o[5]=(...s)=>d.addPatientLocation&&d.addPatientLocation(...s)),class:"btn bg-orange mt-2"}," Agregar Ubicación ")),Me])])])])])]),e("div",Oe,[e("div",Ue,[e("div",Fe,[Pe,w(N,{modelValue:a.selectedDate,"onUpdate:modelValue":o[6]||(o[6]=s=>a.selectedDate=s),config:a.config,class:"form-control",id:"date",ref:"flatpickr"},null,8,["modelValue","config"])]),e("div",Te,[Be,m(e("select",{class:"form-control",id:"hourInput","onUpdate:modelValue":o[7]||(o[7]=s=>a.selectedHour=s)},[(l(!0),r(g,null,_(a.hours,s=>(l(),r("option",{key:s},u(s),1))),128))],512),[[v,a.selectedHour]])])])])]),e("button",{disabled:!a.selectedDate||!a.selectedEspecialty||!a.selectedHour,class:"btn btn-orange mt-1 w-50 mx-auto my-1 hover-orange",id:"addOption",onClick:o[8]||(o[8]=(...s)=>d.searchFisio&&d.searchFisio(...s))}," ENCONTRAR ",8,He),a.loading?(l(),r("div",Ge,[w(x)])):p("",!0),a.showList?(l(),r("h5",Re," SELECCIONA TU FISIOTERAPEUTA ")):p("",!0),a.showList?(l(),r("div",Je,[e("div",je,[(l(!0),r(g,null,_(a.schedulesWithFisios,s=>(l(),r("div",{class:"card my-2 col-12 col-md-5 mx-md-4",key:s.id},[e("div",ze,[e("div",We,[e("div",{class:"profilePhoto",style:G({"background-image":`url(/img/fisioPhotos/${s.fisio.profile_photo_path})`})},null,4),e("h6",null,u(s.fisio.name),1)]),e("div",Ke,[e("h4",qe,[e("strong",Qe,"S/"+u(s.fisio.appointment_price),1)]),Ye,w(V,{appointmentInfo:s,Appdate:a.selectedDate,patient:n.patient,location:a.location},null,8,["appointmentInfo","Appdate","patient","location"]),Ze,Xe])])]))),128)),$e])])):p("",!0)])])])])]),_:1})}const ct=z(Y,[["render",et],["__scopeId","data-v-4d2f9b95"]]);export{ct as default};
